
<mat-card class="col-md-12">
  <mat-card-title>Almacenes de Carga</mat-card-title>
  <br>
  <div class="row" id="menu">
      <mat-form-field style="margin-bottom: 100px; margin-left:20px; " *ngIf="mostrar">
      <mat-select placeholder="Clientes">
        <mat-option *ngFor="let roles of rolesList" [value]="roles">{{roles}}</mat-option>
      </mat-select>
    </mat-form-field>
    <mat-form-field appearance="standard" style="margin-left: 350px;" *ngIf="mostrar">
      <input matInput (keyup)="applyFilter($event.target.value)" placeholder="Buscar">
      <mat-icon matSuffix>search</mat-icon>
    </mat-form-field> 
    <mat-form-field appearance="standard" style="margin-left: 650px; margin-bottom: 20px;" *ngIf="!mostrar">
      <input matInput (keyup)="applyFilter($event.target.value)" placeholder="Buscar">
      <mat-icon matSuffix>search</mat-icon>
    </mat-form-field>
    <mat-spinner *ngIf="showSpinner"> </mat-spinner>
  </div>
<mat-tab-group #tabGroup (selectedIndexChange)="_setDataSource($event)" >  
  <mat-tab label="Entrada" *ngIf="!showSpinner"> 
  <!--Entradas -->
      <table mat-table [dataSource]="dataSourceEntrada" class="mat-elevation-z8">
         
            <!-- Position Column -->
            <ng-container matColumnDef="codClienteEntrada">
              <th mat-header-cell *matHeaderCellDef> Cod. </th>
              <td mat-cell *matCellDef="let element"> <button mat-button class="btn-descripcion"(click)="openDialog('Entrada', element)"><b>{{idUsuario}} </b></button></td>
            </ng-container>
          
            <!-- Name Column -->
            <ng-container matColumnDef="fechaEntrada">
              <th mat-header-cell *matHeaderCellDef> Fecha </th>
              <td mat-cell *matCellDef="let element"> {{element.fechaEntrada | date: 'dd/MM/yyyy'}} </td>
            </ng-container>
          
            <!-- Weight Column -->
            <ng-container matColumnDef="codProducto">
              <th mat-header-cell *matHeaderCellDef> Cod. Prod </th>
              <td mat-cell *matCellDef="let element"> {{element.producto.$id}} </td>
            </ng-container>
          
            <!-- Symbol Column -->
            <ng-container matColumnDef="descripcion">
              <th mat-header-cell *matHeaderCellDef> Descripcion </th>
              <td mat-cell *matCellDef="let element"> <button mat-button class="btn-descripcion" (click)="openDialog('Entrada', element)">{{element.producto.$descripcion}}</button> </td>
            </ng-container>

            <!-- Symbol Column -->
            <ng-container matColumnDef="lote">
              <th mat-header-cell *matHeaderCellDef> Lote </th>
              <td mat-cell *matCellDef="let element"> {{element.producto.$lote}} </td>
            </ng-container>

            <!-- Symbol Column -->
            <ng-container matColumnDef="estado">
              <th mat-header-cell *matHeaderCellDef> Calidad </th>
              <td mat-cell *matCellDef="let element"> {{element.producto.$estadoCalidad}} </td>
            </ng-container>

            <!-- Symbol Column -->
            <ng-container matColumnDef="disponible">
              <th mat-header-cell *matHeaderCellDef> Disponible </th>
              <td mat-cell *matCellDef="let element">
                <p *ngIf="element.producto.$disponible===true"> SI </p>
                <p *ngIf="element.producto.$disponible===false"> NO </p>
              </td>
            </ng-container>           
          
            <tr mat-header-row *matHeaderRowDef="displayedColumnsEntrada"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumnsEntrada;"></tr>
          </table>        
         
          <mat-paginator #paginatorEntrada [pageSize]="5" [pageSizeOptions]="[5, 10, 20]">
          </mat-paginator>
    </mat-tab> 

    <!--Salidas -->
<!-- <mat-form-field appearance="standard">
  <input matInput (keyup)="applyFilter($event.target.value)" placeholder="Buscar Salidas">
  <mat-icon matSuffix>search</mat-icon>
</mat-form-field>-->
    <mat-tab label="Salida" *ngIf="!showSpinner">
       
      <table mat-table [dataSource]="dataSourceSalida" class="mat-elevation-z8">
      
          <!-- Position Column -->
          <ng-container matColumnDef="codClienteSalida">
            <th mat-header-cell *matHeaderCellDef> Cod. </th>
            <td mat-cell *matCellDef="let element"> <button mat-button class="btn-descripcion" (click)="openDialog('Salida', element)"><b>{{idUsuario}}
                </b></button></td>
          </ng-container>
          
          <!-- Name Column -->
          <ng-container matColumnDef="fechaSalida">
            <th mat-header-cell *matHeaderCellDef> Fecha </th>
            <td mat-cell *matCellDef="let element"> {{element.fechaSalida | date: 'dd/MM/yyyy'}} </td>
          </ng-container>
          
          <!-- Weight Column -->
          <ng-container matColumnDef="codProducto">
            <th mat-header-cell *matHeaderCellDef> Cod. Prod </th>
            <td mat-cell *matCellDef="let element"> {{element.producto.$id}} </td>
          </ng-container>
          
          <!-- Symbol Column -->
          <ng-container matColumnDef="descripcion">
            <th mat-header-cell *matHeaderCellDef> Descripcion </th>
            <td mat-cell *matCellDef="let element"> <button mat-button class="btn-descripcion" (click)="openDialog('Salida', element)">{{element.producto.$descripcion}}</button>
            </td>
          </ng-container>
          
          <!-- Symbol Column -->
          <ng-container matColumnDef="lote">
            <th mat-header-cell *matHeaderCellDef> Lote </th>
            <td mat-cell *matCellDef="let element"> {{element.producto.$lote}} </td>
          </ng-container>
          
          <!-- Symbol Column -->
          <ng-container matColumnDef="estadoCalidad">
            <th mat-header-cell *matHeaderCellDef> Calidad </th>
            <td mat-cell *matCellDef="let element"> {{element.producto.$estadoCalidad}} </td>
          </ng-container>
          
          <!-- Symbol Column -->
          <ng-container matColumnDef="disponible">
            <th mat-header-cell *matHeaderCellDef> Disponible </th>
            <td mat-cell *matCellDef="let element">
              <p *ngIf="element.producto.$disponible===true"> SI </p>          
              <p *ngIf="element.producto.$disponible===false"> NO </p>
            </td>
          </ng-container>
          
          <tr mat-header-row *matHeaderRowDef="displayedColumnsSalida"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumnsSalida;"></tr>
      </table>
      <mat-paginator #paginatorSalida [pageSize]="5" [pageSizeOptions]="[5, 10, 20]">
      </mat-paginator>
    
    </mat-tab>

<!--Pedidos -->

    <mat-tab label="Pedido" *ngIf="!showSpinner">
    
      <table mat-table [dataSource]="dataSourcePedido" class="mat-elevation-z8">
      
            <!-- Position Column -->
            <ng-container matColumnDef="codClientePedido">
              <th mat-header-cell *matHeaderCellDef> Cod. </th>
              <td mat-cell *matCellDef="let element"> <button mat-button class="btn-descripcion"(click)="openDialog('Pedido',element)">{{idUsuario}} </button></td>
            </ng-container>      
        <!-- Name Column -->
        <ng-container matColumnDef="fechaSolicitud">
          <th mat-header-cell *matHeaderCellDef> Fecha de Solicitud </th>
          <td mat-cell *matCellDef="let element"> {{element.fechaSolicitud | date: 'dd/MM/yyyy'}} </td>
        </ng-container>
      
        <!-- Weight Column -->
        <ng-container matColumnDef="fechaEntrega">
          <th mat-header-cell *matHeaderCellDef> Fecha de Entrega </th>
          <td mat-cell *matCellDef="let element"> {{element.fechaEntrega | date: 'dd/MM/yyyy'}} </td>
        </ng-container>
      
        <!-- Symbol Column 
        <ng-container matColumnDef="estadoPedido">
          <th mat-header-cell *matHeaderCellDef> Estado </th>
          <td mat-cell *matCellDef="let element"> {{element.estadoPedido}} </td>
        </ng-container>
      

        <ng-container matColumnDef="destinatario">
          <th mat-header-cell *matHeaderCellDef> Destino </th>
          <td mat-cell *matCellDef="let element"> {{element.destinatario}} </td>
        </ng-container>-->
      
        <!-- Symbol Column -->
        <ng-container matColumnDef="codProducto">
          <th mat-header-cell *matHeaderCellDef> Cod. Prod </th>
          <td mat-cell *matCellDef="let element"> {{element.producto.$id}} </td>
        </ng-container>
      
        <!-- Symbol Column -->
        <ng-container matColumnDef="descripcion">
          <th mat-header-cell *matHeaderCellDef> Descripcion </th>
          <td mat-cell *matCellDef="let element"> <button mat-button class="btn-descripcion" (click)="openDialog('Pedido',element)">{{element.producto.$descripcion}}</button> </td>
        </ng-container>

        <!-- Symbol Column -->
        <ng-container matColumnDef="lote">
          <th mat-header-cell *matHeaderCellDef> Lote </th>
          <td mat-cell *matCellDef="let element"> {{element.producto.$lote}} </td>
        </ng-container>

        <!-- Symbol Column -->
        <ng-container matColumnDef="estadoCalidad">
          <th mat-header-cell *matHeaderCellDef> Calidad </th>
          <td mat-cell *matCellDef="let element"> {{element.producto.$estadoCalidad}} </td>
        </ng-container>

        <!-- Symbol Column -->
        <ng-container matColumnDef="disponible">
          <th mat-header-cell *matHeaderCellDef> Disponible </th>
          <td mat-cell *matCellDef="let element">
            <p *ngIf="element.producto.$disponible===true"> SI </p>
            <p *ngIf="element.producto.$disponible===false"> NO </p>
          </td>
        </ng-container>
      
      
        <tr mat-header-row *matHeaderRowDef="displayedColumnsPedido"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumnsPedido;"></tr>
      </table>
    
      <mat-paginator #paginatorPedido [pageSize]="5" [pageSizeOptions]="[5, 10, 20]">
      </mat-paginator>
    
    </mat-tab>
    <hr>
</mat-tab-group>
</mat-card>
 